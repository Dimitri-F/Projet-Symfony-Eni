{% extends 'base.html.twig' %}

{% block title %}Modifier d'une sortie{% endblock %}

{% block body %}
    <h1 class="text-4xl mb-8 text-center">Modifier une sortie</h1>
    <div class="flex justify-center mt-8">
        <div class="grid grid-cols-2 gap-8">
            <div>
                {{ form_start(activityForm) }}
                <div class="mt-3 flex flex-col">
                    {{ form_label(activityForm.nom) }}
                    {{ form_widget(activityForm.nom, {'attr': {'class': 'border'}}) }}
                    {{ form_errors(activityForm.nom) }}
                </div>
                <div class="mt-3 flex flex-col">
                    {{ form_label(activityForm.dateDebut) }}
                    {{ form_widget(activityForm.dateDebut) }}
                    {{ form_errors(activityForm.dateDebut) }}
                </div>
                <div class="mt-3 flex flex-col">
                    {{ form_label(activityForm.dateCloture) }}
                    {{ form_widget(activityForm.dateCloture) }}
                    {{ form_errors(activityForm.dateCloture) }}
                </div>
                <div class="mt-3 flex flex-col">
                    {{ form_label(activityForm.nbInscriptionsMax) }}
                    {{ form_widget(activityForm.nbInscriptionsMax, {'attr': {'class': 'border'}}) }}
                    {{ form_errors(activityForm.nbInscriptionsMax) }}
                </div>
                <div class="mt-3 flex flex-col">
                    {{ form_label(activityForm.duree) }}
                    {{ form_widget(activityForm.duree, {'attr': {'class': 'border'}}) }}
                    {{ form_errors(activityForm.duree) }}
                </div>
                <div class="mt-3 flex flex-col">
                    {{ form_label(activityForm.descriptionInfos) }}
                    {{ form_widget(activityForm.descriptionInfos, {'attr': {'class': 'border'}}) }}
                    {{ form_errors(activityForm.descriptionInfos) }}
                </div>
            </div>
            <div class="ml-12">
                <div class="flex items-center">
                    <div class="mt-3 flex flex-col">
                        {{ form_label(activityForm.lieu) }}
                        <div class="flex items-center">
                            {{ form_widget(activityForm.lieu, {'attr': {'class': 'border'}}) }}
                            <a href="{{ path('app_create_lieu') }}"><img src="{{ asset('assets/img/add-button-lieu.png') }}" alt="ajout d'un lieu" class="w-8 h-8 ml-2"></a>
                        </div>
                        {{ form_errors(activityForm.lieu) }}
                    </div>
                </div>
                <div class="mt-3 flex flex-col">
                    <label for="rue">Rue :</label>
                    <input id="rue" name="rue" type="text" value="{{ activity.lieu.rue }}">
                </div>
                <div class="mt-3 flex flex-col">
                    <label for="ville">Ville :</label>
                    <input id="ville" name="ville" type="ville" value="{{ activity.lieu.ville.nom }}">
                </div>
                <div class="mt-3 flex flex-col">
                    <label for="codePostal">Code Postal :</label>
                    <input id="codePostal" name="codePostal" type="codePostal" value="{{ activity.lieu.ville.codePostal}}">
                </div>
                <div class="mt-3 flex flex-col">
                    <label for="latitude">Latitude :</label>
                    <input id="latitude" name="latitude" type="latitude" value="{{ activity.lieu.latitude}}">
                </div>
                <div class="mt-3 flex flex-col">
                    <label for="longitude">Longitude :</label>
                    <input id="longitude" name="longitude" type="longitude" value="{{ activity.lieu.longitude }}">
                </div>
            </div>
        </div>
    </div>
    <div class="mt-6 flex justify-center">
        <button type="submit" name="save" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
            Enregistrer
        </button>
        <button type="submit" name="publish" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded ml-4">
            Publier la sortie
        </button>
        <a href="{{ path('app_remove',{'id' : activity.id}) }}" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-4">
            Supprimer la sortie
        </a>
        <a href="{{ path('app_home') }}" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-4">
            Annuler
        </a>
    </div>
    {{ form_end(activityForm) }}
{% endblock %}